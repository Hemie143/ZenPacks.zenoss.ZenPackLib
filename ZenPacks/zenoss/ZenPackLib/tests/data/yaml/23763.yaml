name: ZenPacks.zenoss.OpenStackInfrastructure
zProperties:
  DEFAULTS:
    category: OpenStack
class_relationships:

- Endpoint(components) 1:MC OpenstackComponent
- OrgComponent(childOrgs) 1:M (parentOrg)OrgComponent

device_classes:
  /Server/SSH/Linux/NovaHost:
    remove: True
  /OpenStack: {}
  /OpenStack/Infrastructure:
    remove: true

classes:
  #-----------------------------------------------------------------------------
  # Base Device Class Types
  #-----------------------------------------------------------------------------
  Endpoint:
    base: [zenpacklib.Device]
    meta_type: OpenStackInfrastructureEndpoint
    label: OpenStack Endpoint

  #-----------------------------------------------------------------------------
  # Component Base Class Types
  #-----------------------------------------------------------------------------
  OpenstackComponent:
    # Component Base Type
    base: [zenpacklib.Component]
    relationships:
      endpoint:
        grid_display: True
        label: Endpoint

  OrgComponent:
    # Component Base Type
    base: [OpenstackComponent]
    relationships:
      childOrgs:
        label: Children
        order: 1.1
        label_width: 60
        content_width: 60
      parentOrg:
        label: Parent Region
        order: 1.0
        label_width: 60
        content_width: 60

  AvailabilityZone:
    base: [OrgComponent]
    meta_type: OpenStackInfrastructureAvailabilityZone
    label: Availability Zone
    order: 2
    relationships:
      #parentOrg: {}
      childOrgs:
        grid_display: False
        details_display: False